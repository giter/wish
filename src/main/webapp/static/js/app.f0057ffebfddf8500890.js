webpackJsonp([1],{"+oUU":function(e,t){},"/plY":function(e,t){},"27Fq":function(e,t){},"37W7":function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"static/img/logo.4fcbd30.png"},AUzw:function(e,t){},KcLk:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("IvJb"),i=a("srH3"),o=a.n(i),r=(a("OIlf"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var l=a("C7Lr")({name:"App"},r,!1,function(e){a("/plY")},null,null).exports,s=a("zO6J"),c=a("aozt"),u=a.n(c),m={data:function(){return{isCollapse:!1,menudata:[]}},computed:{collapse:function(){return{isCollapse:this.isCollapse}},path:function(){return"/"+this.$route.path.split("/").reverse()[0]}},created:function(){var e=localStorage.getItem("loginData"),t=JSON.parse(e),a=t.list;console.info(t);for(var n=0;n<a.length;n++)"/user/"==a[n].permission&&this.menudata.push({path:"/userManage",name:"用户管理",classname:"el-icon-message"}),"/cycleImg/"==a[n].permission&&this.menudata.push({path:"/sowingMap",name:"轮播图管理",classname:"el-icon-picture"}),"/machineManager/"==a[n].permission&&this.menudata.push({path:"/macManage",name:"机器管理",classname:"el-icon-setting"}),"/prize/"==a[n].permission&&this.menudata.push({path:"/prizeManage",name:"奖品管理",classname:"el-icon-goods"}),"/prizeLog/"==a[n].permission&&this.menudata.push({path:"/cashRecord",name:"兑奖记录",classname:"el-icon-time"}),"/sale/"==a[n].permission&&this.menudata.push({path:"/saleReport",name:"销售报表",classname:"el-icon-tickets"}),"/order/"==a[n].permission&&this.menudata.push({path:"/orderQry",name:"订单查询",classname:"el-icon-search"}),"/buyerShow/"==a[n].permission&&this.menudata.push({path:"/buyerShow",name:"买家秀审核",classname:"el-icon-edit-outline"})},methods:{handleCommand:function(e){console.info(e);var t=this;"logout"==e&&this.$axios.logout().then(function(e){console.info(e),0==e.status?_this.$message({message:"登出失败",type:"warning"}):t.$router.push("/login")},function(e){})},select:function(e){this.$router.push(e)}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("div",{staticStyle:{width:"100%","background-color":"#256cc7",overflow:"hidden",height:"70px"}},[n("img",{staticStyle:{float:"left",margin:"15px 0 15px 20px"},attrs:{src:a("7Otq"),width:"40px",height:"40px"}}),e._v(" "),n("span",{staticClass:"demonstration"},[e._v("\n            猩愿机后台管理系统\n        ")]),e._v(" "),n("i",{staticClass:"el-icon-menu",on:{click:function(t){e.isCollapse=!e.isCollapse}}}),e._v(" "),n("span",{staticClass:"demonstration",staticStyle:{float:"right",cursor:"pointer"}},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link",staticStyle:{color:"white"}},[e._v("\n                admin"),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),n("div",{staticStyle:{height:"calc(100% - 70px)"}},[n("el-menu",{staticClass:"el-menu-vertical-demo nav",class:e.collapse,attrs:{"default-active":e.path,collapse:e.isCollapse},on:{select:e.select}},e._l(e.menudata,function(t,a){return n("el-menu-item",{attrs:{index:t.path}},[n("i",{class:t.classname}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])})),e._v(" "),n("div",{staticClass:"main-content",class:e.collapse},[n("router-view")],1)],1)])},staticRenderFns:[]};var p=a("C7Lr")(m,d,!1,function(e){a("VrSZ")},"data-v-6b50d466",null).exports,f=a("a3Yh"),h=a.n(f),g={data:function(){var e,t=this;return e={form:{id:"",username:"",password:"",checkpass:"",name:"",sex:"",phone:"",roleId:"",img:""},usernameInput:"",formLabelWidth:"50px",dialogFormVisible:!1,dialogUpdateFormVisible:!1,tableData:[]},h()(e,"formLabelWidth","120px"),h()(e,"imageUrl",""),h()(e,"loading",!0),h()(e,"credentials",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"roleData",[]),h()(e,"imgprefixUrl","https://139.224.114.192:8080/upload/"),h()(e,"rules2",{password:[{validator:function(e,a,n){""===a?n(new Error("请输入密码")):(""!==t.form.checkPass&&t.$refs.form.validateField("checkPass"),n())},trigger:"blur"}],checkPass:[{validator:function(e,a,n){""===a?n(new Error("请再次输入密码")):a!==t.form.password?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}]}),e},created:function(){this.initData(),this.loading=!1},methods:{initData:function(){var e=this;e.$axios.findAllRole().then(function(t){e.roleData=t.list},function(e){})},qryData:function(){var e=this,t={page:{pageNum:e.currentPage,pageSize:5},condition:{name:e.usernameInput}};e.$axios.qryUser(t).then(function(t){console.info(t),e.tableData=t.data.list,e.currentPage=t.data.pageNum,e.count=t.data.total},function(e){console.info("error"),console.info(e),_this.$message({message:e.msg,type:"warning"})})},formatterSexColumn:function(e,t){switch(e.sex){case 0:return"女";case 1:return"男";default:return"未知"}},handleSizeChange:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.qryData()},resetForm:function(e){this.$refs[e].resetFields(),this.form.id=null,this.form.username=null,this.form.name=null,this.form.password=null,this.form.checkpass=null,this.form.sex=null,this.form.phone=null,this.form.roleId=null,this.form.img=null,this.imageUrl=null},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.addUser(t.form).then(function(e){console.info(e),0==e.result&&(t.$message({message:"添加成功",type:"success"}),t.dialogFormVisible=!1,t.resetForm("form"),t.qryData())},function(e){console.info("error"),console.info(e),t.$message({message:"添加失败",type:"warning"})})})},submitModForm:function(e){var t=this;t.$refs[e].validate(function(e){return e?void 0:(console.log("error submit!!"),!1)})},add:function(){this.dialogFormVisible=!0,this.resetForm("form")},handleDelete:function(e,t){var a=this,n=[t.id];console.info(n),a.$confirm("此操作删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.delUser(n).then(function(e){console.info(e),0==e.result&&(a.$message({message:"删除成功",type:"success"}),a.dialogFormVisible=!1,a.qryData())},function(e){console.info("error"),console.info(e),a.$message({message:"修改失败",type:"warning"})})}).catch(function(){})},modify:function(e,t){this.dialogUpdateFormVisible=!0,console.info(t),this.form.id=t.id,this.form.username=t.username,this.form.name=t.name,this.form.sex=t.sex+"",this.form.phone=t.phone,this.form.roleId=t.roleId,this.form.img=t.img,this.imageUrl=this.imgprefixUrl+t.img},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),0==e.result?this.form.img=e.data:this.$message.error("上传失败!")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-row",[a("el-col",{attrs:{span:6}},[e._v("\n      姓名：\n    "),a("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:e.usernameInput,callback:function(t){e.usernameInput=t},expression:"usernameInput"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.add}},[e._v("新增")])],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100% - 110px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"登录名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",formatter:e.formatterSexColumn,width:"60",label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",width:"130",label:"角色"}}),e._v(" "),a("el-table-column",{attrs:{operation:"操作",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.modify(t.$index,t.row)}}},[e._v("编辑 ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"新增用户",width:"500px",top:"20px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules2}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/wish/file/uploadImg","show-file-list":!1,"with-credentials":e.credentials,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码","label-width":e.formLabelWidth,prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleData,function(e){return a("el-option",{key:e.id,attrs:{label:e.description,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改用户",width:"500px",visible:e.dialogUpdateFormVisible},on:{"update:visible":function(t){e.dialogUpdateFormVisible=t}}},[a("el-form",{ref:"modform",attrs:{model:e.form,rules:e.rules2}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/wish/file/uploadImg","show-file-list":!1,"with-credentials":e.credentials,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUpdateFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitModForm("modform")}}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var b=a("C7Lr")(g,v,!1,function(e){a("AUzw")},null,null).exports,y={data:function(){var e;return e={form:{id:"",realName:"",viewOrder:"",status:"",imgPath:""},nameInput:"",statusInput:"",formLabelWidth:"50px",dialogFormVisible:!1,imgVisible:!1,imgShowPath:"",imageUrl:"",tableData:[]},h()(e,"formLabelWidth","120px"),h()(e,"loading",!0),h()(e,"credentials",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"imgprefixUrl","https://www.xingyuanji.com/upload/"),h()(e,"statusData",[]),h()(e,"rules2",{}),e},created:function(){this.initData(),this.loading=!1},methods:{initData:function(){this.statusData=[{id:1,description:"上线"},{id:2,description:"下线"}]},qryData:function(){var e=this,t=e.nameInput,a=e.statusInput;t||(t=null),a||(a=null);var n={page:{pageNum:e.currentPage,pageSize:5},condition:{realName:t,status:a}};console.info(n),e.$axios.findAllCycleImg(n).then(function(t){console.info(t),e.tableData=t.list},function(e){console.info("error"),console.info(e),_this.$message({message:e.msg,type:"warning"})})},formatterStatusColumn:function(e,t){switch(e.status){case 1:return"上线";case 2:return"下线";default:return"未知"}},showImg:function(e,t){this.imgShowPath=this.imgprefixUrl+t.imgPath,this.imgVisible=!0},handleSizeChange:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.qryData()},resetForm:function(e){this.$refs[e].resetFields(),this.form.id=null,this.form.realName=null,this.form.status=null,this.form.imgPath=null,this.imageUrl=null},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.form.img=t.imageUrl,console.info(t.form.id),t.form.id?t.$axios.updateCycleImg(t.form).then(function(e){console.info(e),0==e.result&&(t.$message({message:"修改成功",type:"success"}),t.dialogFormVisible=!1,t.resetForm("form"),t.qryData())},function(e){console.info("error"),console.info(e),t.$message({message:"修改失败",type:"warning"})}):t.$axios.saveCycleImg(t.form).then(function(e){console.info(e),0==e.result&&(t.$message({message:"添加成功",type:"success"}),t.dialogFormVisible=!1,t.resetForm("form"),t.qryData())},function(e){console.info("error"),console.info(e),t.$message({message:"添加失败",type:"warning"})})})},add:function(){this.dialogFormVisible=!0,this.resetForm("form")},handleDelete:function(e,t){var a=this,n=[t.id];console.info(n),a.$confirm("此操作删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.delUser(n).then(function(e){console.info(e),0==e.result&&(a.$message({message:"删除成功",type:"success"}),a.dialogFormVisible=!1,a.qryData())},function(e){console.info("error"),console.info(e),a.$message({message:"修改失败",type:"warning"})})}).catch(function(){})},modify:function(e,t){this.dialogFormVisible=!0,console.info(t),this.form.id=t.id,this.form.realName=t.realName,this.form.viewOrder=t.viewOrder,this.form.status=t.status,this.form.imgPath=t.imgPath,this.imageUrl=this.imgprefixUrl+t.imgPath},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),console.info("this.imageUrl:"+this.imageUrl),console.info(e),0==e.result?this.form.imgPath=e.data:this.$message.error("上传失败!")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.add}},[e._v("新增")])],1)])],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100% - 110px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"轮播图名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"viewOrder",label:"轮播图顺序",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatterStatusColumn,width:"180",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{operation:"操作",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.modify(t.$index,t.row)}}},[e._v("编辑 ")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showImg(t.$index,t.row)}}},[e._v("查看图片 ")])]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增用户",width:"500px",top:"20px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules2}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/wish/file/uploadImg","show-file-list":!1,"with-credentials":e.credentials,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"轮播图名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"轮播图顺序","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,label:"描述文字"},model:{value:e.form.viewOrder,callback:function(t){e.$set(e.form,"viewOrder",t)},expression:"form.viewOrder"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusData,function(e){return a("el-option",{key:e.id,attrs:{label:e.description,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片",visible:e.imgVisible},on:{"update:visible":function(t){e.imgVisible=t}}},[a("img",{staticClass:"image",attrs:{src:e.imgShowPath,width:"570px"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.imgVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var _=a("C7Lr")(y,w,!1,function(e){a("znPO")},null,null).exports,x={data:function(){var e;return e={form:{name:"",width:0,height:0,address:"",status:"",userId:""},usernameInput:"",formLabelWidth:"50px",dialogSaveFormVisible:!1,dialogFormVisible:!1,tableData:[],options:[]},h()(e,"formLabelWidth","120px"),h()(e,"imageUrl",""),h()(e,"imgVisible",!1),h()(e,"loading",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"imgShowPath",""),h()(e,"statusData",[]),h()(e,"imgprefixUrl","https://www.xingyuanji.com/upload/"),h()(e,"rules2",{}),e},created:function(){this.initData(),this.loading=!1},mounted:function(){var e=this;this.$axios.getAgent().then(function(t){0==t.result&&(e.options=t.list)})},methods:{initData:function(){this.statusData=[{id:1,description:"正常"},{id:2,description:"损坏"}]},qryData:function(){var e=this,t={page:{pageNum:e.currentPage,pageSize:5},condition:{name:e.usernameInput}};e.$axios.macQry(t).then(function(t){console.info(t),e.tableData=t.data.list,e.currentPage=t.data.pageNum,e.count=t.data.total},function(e){console.info("error"),console.info(e),_this.$message({message:e.msg,type:"error"})})},formatterStatusColumn:function(e,t){switch(e.status){case 1:return"正常";case 2:return"损坏";default:return"未知"}},handleSizeChange:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.qryData()},resetForm:function(e){this.$refs[e].resetFields(),this.form.id=null,this.form.name=null,this.form.address=null,this.form.status=null,this.form.width=null,this.form.height=null,this.form.userId=null},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.saveMac(t.form).then(function(e){console.info(e),0==e.result&&(t.$message({message:"添加成功",type:"success"}),t.dialogSaveFormVisible=!1,t.resetForm("addform"),t.qryData())},function(e){console.info("error"),console.info(e),t.$message({message:"添加失败"+e.msg,type:"warning"})})})},editForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.updateMac(t.form).then(function(e){console.info(e),0==e.result&&(t.$message({message:"修改成功",type:"success"}),t.dialogFormVisible=!1,t.resetForm("form"),t.qryData())},function(e){console.info("error"),console.info(e),t.$message({message:"修改失败"+e.msg,type:"warning"})})})},add:function(){this.dialogSaveFormVisible=!0,this.resetForm("form")},handleDelete:function(e,t){var a=this,n=[t.id];console.info(n),a.$confirm("此操作删除该机器, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.deletesMac(n).then(function(e){console.info(e),0==e.result&&(a.$message({message:"删除成功",type:"success"}),a.dialogFormVisible=!1,a.qryData())},function(e){console.info("error"),console.info(e),a.$message({message:"修改失败",type:"warning"})})}).catch(function(){})},modify:function(e,t){this.dialogFormVisible=!0,console.info(t),this.form.id=t.id,this.form.name=t.name,this.form.address=t.address,this.form.width=t.width,this.form.height=t.height,this.form.status=t.status},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},showImg:function(e,t){this.imgShowPath=this.imgprefixUrl+t.qrcode,this.imgVisible=!0},closeQr:function(){this.imgShowPath="",this.imgVisible=!1}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[e._v("\n  名称：\n  "),a("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:e.usernameInput,callback:function(t){e.usernameInput=t},expression:"usernameInput"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.add}},[e._v("新增")])],1)])],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100% - 110px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"机器编号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"机器名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"机器地址",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatterStatusColumn,label:"机器状态",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{operation:"操作",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.modify(t.$index,t.row)}}},[e._v("编辑 ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showImg(t.$index,t.row)}}},[e._v("二维码 ")])]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增机器",width:"500px",top:"20px",visible:e.dialogSaveFormVisible},on:{"update:visible":function(t){e.dialogSaveFormVisible=t}}},[a("el-form",{ref:"addform",attrs:{model:e.form,rules:e.rules2}},[a("el-form-item",{attrs:{label:"机器编号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理人","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"机器横向商品数","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,label:"描述文字"},model:{value:e.form.width,callback:function(t){e.$set(e.form,"width",t)},expression:"form.width"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机器纵向商品数","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,label:"描述文字"},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusData,function(e){return a("el-option",{key:e.id,attrs:{label:e.description,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogSaveFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("addform")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改机器",width:"500px",top:"20px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules2}},[a("el-form-item",{attrs:{label:"机器编号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机器横向商品数","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,label:"描述文字"},model:{value:e.form.width,callback:function(t){e.$set(e.form,"width",t)},expression:"form.width"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机器纵向商品数","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,label:"描述文字"},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusData,function(e){return a("el-option",{key:e.id,attrs:{label:e.description,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editForm("form")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"二维码",visible:e.imgVisible,width:"370px"},on:{"update:visible":function(t){e.imgVisible=t}}},[a("img",{staticClass:"image",staticStyle:{width:"340px"},attrs:{src:e.imgShowPath}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.closeQr()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var $=a("C7Lr")(x,C,!1,function(e){a("eubk")},null,null).exports,k=a("3cXf"),S=a.n(k),I={data:function(){var e,t=this;return e={form:{id:"",name:"",type:"",num:"",startTime:"",endTime:"",img:""},nameInput:"",typeNameInput:"",formLabelWidth:"50px",dialogFormVisible:!1,qrCodeVisible:!1,tableData:[]},h()(e,"formLabelWidth","120px"),h()(e,"imageUrl",""),h()(e,"imgprefixUrl","https://139.224.114.192:8080/upload/"),h()(e,"loading",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"rules2",{password:[{validator:function(e,a,n){""===a?n(new Error("请输入密码")):(""!==t.form.checkPass&&t.$refs.form.validateField("checkPass"),n())},trigger:"blur"}],checkPass:[{validator:function(e,a,n){""===a?n(new Error("请再次输入密码")):a!==t.form.password?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}]}),h()(e,"qryStatus",""),h()(e,"statusOptions",[{value:"1",label:"未兑奖"},{value:"2",label:"已兑奖"},{value:"3",label:"已发货"},{value:"4",label:"已过期"}]),e},created:function(){this.initData(),this.loading=!1},methods:{imgexport:function(e,t){var a="https://www.xingyuanji.com/wish/file/export?path="+t.zipPath;window.open(a)},handleAvatarSuccess:function(e,t){0==e.result?(this.form.img=e.data,this.imageUrl=URL.createObjectURL(t.raw)):this.$message.error(e.msg)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},initData:function(){},qryData:function(){var e=this,t=e.nameInput,a=e.typeNameInput;e.nameInput||(t=null),e.typeNameInput||(a=null);var n={page:{pageNum:e.currentPage,pageSize:5},condition:{name:t,type:a}};console.info(n),e.$axios.prizeQry(n).then(function(t){console.info(t),e.tableData=t.data.list,e.currentPage=t.data.pageNum,e.count=t.data.total},function(e){console.info("error"),console.info(e),_this.$message({message:e.msg,type:"warning"})})},formatterSexColumn:function(e,t){switch(e.sex){case 0:return"女";case 1:return"男";default:return"未知"}},handleSizeChange:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.qryData()},resetForm:function(e){this.$refs[e].resetFields(),this.form.id=null,this.form.name=null,this.form.type=null,this.form.num=null,this.form.startTime=null,this.form.endTime=null,this.form.img=null},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.info(t.form.id),t.form.id?t.$axios.updateUser(t.form).then(function(e){console.info(e),0==e.result&&(t.$message({message:"修改成功",type:"success"}),t.dialogFormVisible=!1,t.resetForm("form"),t.qryData())},function(e){console.info("error"),console.info(e),t.$message({message:"修改失败,"+S()(e),type:"warning"})}):t.$axios.savePrize(t.form).then(function(e){console.info(e),0==e.result&&(t.$message({message:"添加成功",type:"success"}),t.dialogFormVisible=!1,t.resetForm("form"),t.qryData())},function(e){console.info("error"),console.info(e),t.$message({message:"添加失败",type:"warning"})})})},add:function(){this.dialogFormVisible=!0,this.resetForm("form")},handleDelete:function(e,t){var a=this,n=[t.id];console.info(n),a.$confirm("此操作删除该奖品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.delPrize(n).then(function(e){console.info(e),0==e.result&&(a.$message({message:"删除成功",type:"success"}),a.dialogFormVisible=!1,a.qryData())},function(e){console.info("error"),console.info(e),a.$message({message:"修改失败",type:"warning"})})}).catch(function(){})},modify:function(e,t){this.dialogFormVisible=!0,console.info(t),this.form.id=t.id,this.form.name=t.name,this.form.type=t.type,this.form.num=t.num,this.form.startTime=t.startTime,this.form.endTime=t.endTime},generateQRCode:function(e,t){var a=this,n=[t.id];console.info(n),a.$confirm("此操作将生成二维码, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.generateQRCode(t.id).then(function(e){console.info(e),0==e.result&&(a.$message({message:"生成成功",type:"success"}),a.dialogFormVisible=!1,a.qryData())},function(e){console.info("error"),console.info(e),a.$message({message:"修改失败",type:"warning"})})}).catch(function(){})},showQRCode:function(e,t){var a=this;t.id;a.$axios.prizeDetail(t.id).then(function(e){console.info(e),0==e.result&&(a.qrCodeVisible=!0)},function(e){console.info("error"),console.info(e),a.$message({message:"查询失败",type:"warning"})})}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\r\n    奖品名称：\r\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.nameInput,callback:function(t){e.nameInput=t},expression:"nameInput"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\r\n     类别名称：\r\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.typeNameInput,callback:function(t){e.typeNameInput=t},expression:"typeNameInput"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:e.add}},[e._v("新增")])],1)])],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100% - 110px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"奖品类别编号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"奖品名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类别名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"库存"}}),e._v(" "),a("el-table-column",{attrs:{operation:"操作",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.imgexport(t.$index,t.row)}}},[e._v("导出小程序码 ")])]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增奖品",width:"500px",top:"20px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules2}},[a("el-form-item",{attrs:{label:"奖品图片","label-width":e.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/wish/file/uploadImg","show-file-list":!1,"swith-credentials":"true","on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"奖品名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类别名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"库存","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,label:"描述文字"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"二维码",visible:e.qrCodeVisible,width:"270px"},on:{"update:visible":function(t){e.qrCodeVisible=t}}},[a("img",{staticClass:"image",attrs:{src:"http://element-cn.eleme.io/static/hamburger.50e4091.png"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.qrCodeVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var F=a("C7Lr")(I,D,!1,function(e){a("kIwX")},null,null).exports,P={data:function(){var e;return e={form:{id:"",realName:"",viewOrder:"",status:""},prizeidInput:"",statusInput:"",buyerIdInput:"",formLabelWidth:"50px",dialogFormVisible:!1,tableData:[]},h()(e,"formLabelWidth","120px"),h()(e,"imageUrl",""),h()(e,"loading",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"imgShowPath",""),h()(e,"imgVisible",!1),h()(e,"statusData",[]),h()(e,"imgprefixUrl","https://www.xingyuanji.com/upload/"),h()(e,"statusOptions",[{value:"1",label:"未兑奖"},{value:"2",label:"已兑奖"},{value:"3",label:"已发货"},{value:"4",label:"已过期"}]),e},created:function(){this.initData(),this.loading=!1},methods:{closeQr:function(){this.imgShowPath="",this.imgVisible=!1},initData:function(){this.statusData=[{id:1,description:"上线"},{id:2,description:"下线"}]},qryData:function(){this.loading=!0;var e=this,t=e.prizeidInput,a=e.buyerIdInput,n=e.statusInput;t||(t=null),a||(a=null),n||(n=null);var i={page:{pageNum:e.currentPage,pageSize:5},condition:{prizeId:t,addressName:a,status:n}};console.info(i),e.$axios.prizeLogQry(i).then(function(t){console.info(t),e.tableData=t.data.list,e.currentPage=t.data.pageNum,e.count=t.data.total,e.loading=!1},function(e){_this.$message({message:e.msg,type:"error"}),console.info("error"),console.info(e)})},exportData:function(){var e=this.prizeidInput,t=this.statusInput;e||(e=""),t||(t="");var a="https://www.xingyuanji.com/wish/prizeLog/export?prizeId="+e+"&status="+t;window.open(a)},formatterStatusColumn:function(e,t){switch(e.status){case 1:return"未兑奖";case 2:return"已兑奖";case 3:return"已发货";case 4:return"已过期";default:return"未知"}},handleSizeChange:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.qryData()},download:function(e,t){},showImg:function(e,t){this.imgShowPath=this.imgprefixUrl+t.img,this.imgVisible=!0},prizeLogSend:function(e,t){var a=this,n=[t.id];console.info(n),a.$confirm("此操作将发货, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.prizeLogSend(t.id).then(function(e){console.info(e),0==e.result?(a.$message({message:"发货成功",type:"success"}),a.dialogFormVisible=!1,a.qryData()):a.$message({message:e.msg,type:"error"})},function(e){console.info("error"),console.info(e),a.$message({message:"发货失败",type:"warning"})})}).catch(function(){})},resetForm:function(e){this.$refs[e].resetFields(),this.form.id=null,this.form.realName=null,this.form.status=null,this.imageUrl=null}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\n  奖品类别编号：\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.prizeidInput,callback:function(t){e.prizeidInput=t},expression:"prizeidInput"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light qryitem"},[e._v("\n    奖品状态：\n      "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.statusInput,callback:function(t){e.statusInput=t},expression:"statusInput"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\n  兑奖人：\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.buyerIdInput,callback:function(t){e.buyerIdInput=t},expression:"buyerIdInput"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-printer"},on:{click:e.exportData}},[e._v("导出")])],1)])],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100% - 110px)"}},[a("el-table-column",{attrs:{prop:"id",label:"奖品id",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prizeName",label:"奖品类别",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addressName",label:"兑奖人昵称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"兑奖人地址",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"兑奖人联系号码",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"post_code",label:"邮编",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatterStatusColumn,label:"奖品状态",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{operation:"操作",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.status?a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){e.prizeLogSend(t.$index,t.row)}}},[e._v("发货")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showImg(t.$index,t.row)}}},[e._v("二维码 ")])]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"二维码",visible:e.imgVisible,width:"370px"},on:{"update:visible":function(t){e.imgVisible=t}}},[a("img",{staticClass:"image",staticStyle:{width:"340px"},attrs:{src:e.imgShowPath}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.closeQr()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var q=a("C7Lr")(P,L,!1,function(e){a("+oUU")},null,null).exports,U={data:function(){var e;return e={machineId:"",formLabelWidth:"50px",tableData:[]},h()(e,"formLabelWidth","120px"),h()(e,"imageUrl",""),h()(e,"loading",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"tradeNo",""),h()(e,"machineId",""),h()(e,"timeRange",[]),e},created:function(){this.initData(),this.loading=!1},methods:{initData:function(){},exportSale:function(){window.open("https://www.xingyuanji.com/wish/sale/export?machineId=&status=&startTime=&endTime=")},qryData:function(){var e=this,t=e.timeRange[0],a=e.timeRange[1],n=e.machineId,i=i;n||(n=null),i||(i=null),t||(t=null),a||(a=null);var o={page:{pageNum:e.currentPage,pageSize:5},condition:{machineId:n,tradeNo:i,startTime:t,endTime:a}};console.info(o),e.$axios.saleQry(o).then(function(t){console.info(t),e.tableData=t.data.list,e.currentPage=t.data.pageNum,e.count=t.data.total},function(e){console.info("error"),console.info(e),_this.$message({message:e.msg,type:"warning"})})},handleSizeChange:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.qryData()}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\n      机器：\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.machineId,callback:function(t){e.machineId=t},expression:"machineId"}})],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple-light qryitem"},[e._v("\n      时间：\n   "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\n      订单号：\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.tradeNo,callback:function(t){e.tradeNo=t},expression:"tradeNo"}})],1)]),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-search"},on:{click:e.exportSale}},[e._v("全量导出")])],1)])],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"机器号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"机器名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",label:"销售金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"销售数量"}})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var N=a("C7Lr")(U,V,!1,function(e){a("KcLk")},null,null).exports,R={data:function(){var e;return e={payTradeNo:"",buyerName:"",payStatus:"",timeRange:[],formLabelWidth:"50px",tableData:[]},h()(e,"formLabelWidth","120px"),h()(e,"imageUrl",""),h()(e,"loading",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"statusOptions",[{value:"0",label:"未支付"},{value:"1",label:"支付成功"}]),e},created:function(){this.initData(),this.loading=!1},methods:{initData:function(){},qryData:function(){var e=this,t=e.timeRange[0],a=e.timeRange[1],n=e.payTradeNo,i=e.buyerName,o=e.payStatus;t||(t=null),a||(a=null),n||(n=null),i||(i=null),o||(o=null);var r={page:{pageNum:e.currentPage,pageSize:5},condition:{payTradeNo:n,buyerName:i,payStatus:o,startTime:t,endTime:a}};console.info(r),e.$axios.orderQry(r).then(function(t){console.info(t),e.tableData=t.data.list,e.currentPage=t.data.pageNum,e.count=t.data.total},function(e){console.info("error"),console.info(e),_this.$message({message:e.msg,type:"warning"})})},handleSizeChange:function(e){},formatterStatusColumn:function(e,t){switch(e.status){case 0:return"未支付";case 1:return"支付成功";default:return"未知"}},handleCurrentChange:function(e){this.currentPage=e,this.qryData()}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\n      订单号：\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.payTradeNo,callback:function(t){e.payTradeNo=t},expression:"payTradeNo"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\n      下单人：\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.buyerName,callback:function(t){e.buyerName=t},expression:"buyerName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple-light qryitem"},[e._v("\n    订单状态：\n      "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.payStatus,callback:function(t){e.payStatus=t},expression:"payStatus"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple-light qryitem"},[e._v("\n      时间：\n   "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1)]),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")])],1)])],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100% - 110px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tradeNo",label:"订单号",width:"280"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"下单人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"insertTime",label:"下单时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatterStatusColumn,label:"订单状态"}})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var T=a("C7Lr")(R,W,!1,function(e){a("37W7")},null,null).exports,M={name:"login",data:function(){return{name:"",password:""}},mounted:function(){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.bgInit()},methods:{login:function(){var e=this;if(""==e.name.trim())return e.$message({message:"请输入用户名!",type:"warning"});if(""==e.password.trim())return e.$message({message:"请输入密码!",type:"warning"});var t={username:e.name.trim(),password:e.password.trim()};this.$axios.subLogin(t).then(function(t){if(0==t.result){var a=S()(t);localStorage.setItem("loginData",a),e.$router.push("/")}else e.$message({message:"用户名，密码输入不正确，请重新输入！",type:"error"}),z},function(e){})},bgInit:function(){for(var e=document.body.querySelector("canvas"),t=e.getContext("2d"),a=e.width=window.innerWidth,n=e.height=window.innerHeight,i=[],o=-400;o<400;o+=5)for(var r=-250;r<250;r+=5)i.push({x:o,y:100,z:r});!function o(r){requestAnimationFrame(o,e),t.fillStyle="#17293a",t.fillRect(0,0,a,n),function(e){for(var o,r,l,s,c,u=t.getImageData(0,0,a,n),m=i.length,d=0;d<m;d++)r=250/(250+(o=i[d]).z),l=o.x*r+a/2,s=o.y*r+n/2,l>=0&&l<=a&&s>=0&&s<=n&&(c=4*(Math.round(s)*u.width+Math.round(l)),u.data[c]=17,u.data[c+1]=122,u.data[c+2]=181,u.data[c+3]=255),o.z-=.4,o.y=n/14+10*Math.sin(d/m*15+e/450),o.z<-250&&(o.z+=500);t.putImageData(u,0,0)}(r)}()}}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-wrap"},[n("img",{attrs:{src:a("7Otq")}}),e._v(" "),n("h2",[e._v("猩愿后台管理系统")]),e._v(" "),n("div",{staticClass:"login-top"},[n("h1",[e._v("LOGIN")]),e._v(" "),n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"user Id"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"forgot"},[n("a",{attrs:{href:"#"}},[e._v("forgot Password")]),e._v(" "),n("input",{attrs:{type:"submit",value:"Login"},on:{click:e.login}})])]),e._v(" "),n("div",{staticClass:"login-bottom"})]),e._v(" "),n("canvas")])},staticRenderFns:[]};var O=a("C7Lr")(M,A,!1,function(e){a("UIp2")},"data-v-c456dc3e",null).exports,Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-row",[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"qryLabel"},[a("label",[e._v(" 订单号：")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input21,callback:function(t){e.input21=t},expression:"input21"}})],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"qryLabel"},[a("label",[e._v(" 下单人：")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-light qryitem"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input21,callback:function(t){e.input21=t},expression:"input21"}})],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"qryLabel"},[a("label",[e._v(" 订单状态：")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input21,callback:function(t){e.input21=t},expression:"input21"}})],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"qryLabel"},[a("label",[e._v("  订单发生时间：")])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark qryitem"},[a("el-date-picker",{attrs:{type:"datetime","suffix-icon":"el-icon-date",placeholder:"选择日期时间"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple toolrow"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")])],1)])],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderno",label:"订单号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"owner",label:"下单人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ordertime",label:"下单时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"订单状态",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mac",label:"下单机器"}})],1)],1)],1)},staticRenderFns:[]};var B=a("C7Lr")({data:function(){return{value1:"",form:{date:"",name:"",address:""},formLabelWidth:"50px",dialogFormVisible:!1,tableData:[],loading:!0}},created:function(){this.initData(),this.loading=!1},methods:{initData:function(){this.tableData=[{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"},{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"},{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"}]},qryData:function(){this.tableData=[{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"},{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"},{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"},{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"},{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"},{orderno:"170821987",owner:"王小虎1",ordertime:"2016-05-04",status:"01",mac:"xx-123c-ff"}]},add:function(){this.tableData.push(this.form),this.dialogFormVisible=!1},handleDelete:function(e,t){this.tableData.splice(e,1)},modify:function(e,t){var a=this;this.$prompt("修改姓名","编辑",{confirmButtonText:"保存",cancelButtonText:"取消",inputValue:t.name}).then(function(e){var a=e.value;t.name=a}).catch(function(){a.$message({type:"info",message:"取消编辑"})})}}},Q,!1,function(e){a("eUQR")},null,null).exports,E={data:function(){var e;return e={form:{id:"",name:"",type:"",num:"",startTime:"",endTime:""},nameInput:"",timeRange:[],formLabelWidth:"50px",approvalVisible:!1,tableData:[]},h()(e,"formLabelWidth","120px"),h()(e,"imageUrl",""),h()(e,"loading",!0),h()(e,"count",0),h()(e,"currentPage",1),h()(e,"qryStatus",""),h()(e,"showUrl",""),h()(e,"showApprovalId",""),h()(e,"imgprefixUrl","https://www.xingyuanji.com/upload/"),e},created:function(){this.initData(),this.loading=!1},methods:{initData:function(){},qryData:function(){var e=this,t=e.nameInput;e.timeRange||(e.timeRange=[]);var a=e.timeRange[0],n=e.timeRange[1];a||(a=null),n||(n=null),t||(t=null);var i={page:{pageNum:e.currentPage,pageSize:5},condition:{name:t,startTime:a,endTime:n}};console.info(i),e.$axios.buyerShowQry(i).then(function(t){console.info(t),e.tableData=t.data.list,e.currentPage=t.data.pageNum,e.count=t.data.total},function(e){console.info("error"),console.info(e),_this.$message({message:e.msg,type:"warning"})})},formatterStatusColumn:function(e,t){switch(e.status){case 1:return"未审核";case 2:return"审批通过";case 3:return"审核未通过";default:return"未知"}},handleSizeChange:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.qryData()},approval:function(e,t){this.showUrl=this.imgprefixUrl+t.img,this.showApprovalId=t.id,this.approvalVisible=!0},approvalPass:function(){var e=this,t=e.showApprovalId;e.$confirm("确认提交审核?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.buyerShowPass(t).then(function(t){console.info(t),0==t.result&&(e.$message({message:"审核通过成功",type:"success"}),e.approvalVisible=!1,e.qryData())},function(t){console.info("error"),console.info(t),e.$message({message:"审核通过失败",type:"warning"})})}).catch(function(){})},approvalNPass:function(){var e=this,t=e.showApprovalId;e.$confirm("确认提交审核?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.buyerShowNPass(t).then(function(t){console.info(t),0==t.result&&(e.$message({message:"审驳回成功",type:"success"}),e.approvalVisible=!1,e.qryData())},function(t){console.info("error"),console.info(t),e.$message({message:"审核通过失败",type:"warning"})})}).catch(function(){})}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple qryitem"},[e._v("\r\n    上传用户：\r\n  "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.nameInput,callback:function(t){e.nameInput=t},expression:"nameInput"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light qryitem"},[e._v("\r\n      时间：\r\n   "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.qryData}},[e._v("搜索")])],1)])],1),e._v(" "),a("div",{staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100% - 110px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"图片",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"imageShow",attrs:{src:e.imgprefixUrl+t.row.img}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nick_name",label:"上传用户",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"insert_time",label:"上传时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatterStatusColumn,label:"审批状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{operation:"操作",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("el-button",{attrs:{size:"small"},on:{click:function(a){e.approval(t.$index,t.row)}}},[e._v("审批 ")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":5,layout:"total, prev, pager, next",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"审批",visible:e.approvalVisible,width:"350px"},on:{"update:visible":function(t){e.approvalVisible=t}}},[a("img",{staticClass:"imageApprove",attrs:{src:e.showUrl}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.approvalPass}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.approvalNPass}},[e._v("驳回")]),e._v(" "),a("el-button",{on:{click:function(t){e.approvalVisible=!1}}},[e._v("取消")])],1)])],1)},staticRenderFns:[]};var J=a("C7Lr")(E,j,!1,function(e){a("27Fq")},null,null).exports;function G(e){for(var t=document.cookie.split("; "),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]==e)return n[1]}return""}n.default.use(s.a);var H=new s.a({routes:[{path:"/login",name:"login",component:O,desc:"登录",beforeEnter:function(e,t,a){var n=G("JSESSIONID");null==n||""==n?a():a("/")}},{path:"/",name:"navi",component:p,children:[{path:"/userManage",name:"userManage",component:b},{path:"/sowingMap",name:"sowingMap",component:_},{path:"/macManage",name:"macManage",component:$},{path:"/prizeManage",name:"prizeManage",component:F},{path:"/cashRecord",name:"cashRecord",component:q},{path:"/saleReport",name:"saleReport",component:N},{path:"/orderQry",name:"orderQry",component:T},{path:"/testMy",name:"testMy",component:B},{path:"/buyerShow",name:"buyerShow",component:J}],beforeEnter:function(e,t,a){var n=G("JSESSIONID");null==n||""==n?a("/login"):a()}}]}),X=a("rVsN"),Y=a.n(X);a("6iV/");function K(e,t){return new Y.a(function(a,n){u.a.post(e,t).then(function(e){a(e.data)},function(e){n(e)}).catch(function(e){n(e)})})}u.a.defaults.timeout=5e3,u.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",u.a.defaults.baseURL="/wish",u.a.defaults.withCredentials=!0,u.a.interceptors.request.use(function(e){return e.method,e},function(e){return Y.a.reject(e)}),u.a.interceptors.response.use(function(e){if(-1!=e.data.result)return e;H.replace("/login")},function(e){return Y.a.reject(e)});var Z={loginCheck:function(){K("auth/subLogin",{username:sessionStorage.getItem("username"),password:sessionStorage.getItem("password")})},subLogin:function(e){return K("auth/subLogin",e)},logout:function(){return K("auth/logout",{})},findAllRole:function(){return K("role/findAll",{})},qryUser:function(e){return console.info(e),K("user/query",e)},addUser:function(e){return console.info(e),K("user/add",e)},updateUser:function(e){return K("user/update",{id:e.id,username:e.username,name:e.name,img:e.img,sex:e.sex,phone:e.phone})},delUser:function(e){return K("user/deletes",e)},findAllCycleImg:function(e){return K("cycleImg/findAll",e)},saveCycleImg:function(e){return K("cycleImg/save",e)},updateCycleImg:function(e){return K("cycleImg/update",e)},macQry:function(e){return K("machineManager/query",e)},saveMac:function(e){return K("machineManager/save",e)},updateMac:function(e){return K("machineManager/update",e)},deletesMac:function(e){return K("machineManager/deletes",e)},prizeQry:function(e){return K("prize/query",e)},savePrize:function(e){return K("prize/save",e)},delPrize:function(e){return K("prize/deletes",e)},generateQRCode:function(e){return K("prize/generate",e)},prizeLogQry:function(e){return K("prizeLog/query",e)},prizeLogSend:function(e){return K("prizeLog/send",e)},saleQry:function(e){return K("sale/querySale",e)},orderQry:function(e){return K("order/query",e)},prizeDetail:function(e){return K("prize/getDetail",e)},buyerShowQry:function(e){return K("buyerShow/query",e)},buyerShowPass:function(e){return K("buyerShow/pass",e)},buyerShowNPass:function(e){return K("buyerShow/notPass",e)},getAgent:function(){return K("user/getAgent",{})},imgexport:function(e){return K("file/export?path="+e,{})},exportSale:function(e){return u.a.get("sale/export",{})}};n.default.prototype.$axios=Z,n.default.use(o.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:H,template:"<app/>",components:{app:l}});var ee=new n.default;n.default.prototype.bus=ee},OIlf:function(e,t){},UIp2:function(e,t){},VrSZ:function(e,t){},eUQR:function(e,t){},eubk:function(e,t){},kIwX:function(e,t){},znPO:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f0057ffebfddf8500890.js.map